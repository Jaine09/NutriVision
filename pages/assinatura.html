<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assinatura - NutriVision</title>

    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/assinatura.css">
    <link rel="stylesheet" href="../assets/css/responsividade.css">

    <link rel="shortcut icon" href="../assets/img/logoNutriVision.png" type="image/x-icon">
</head>

<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="img-hamburger">
                <img src="../assets/img/logoNutriVision.png" alt="Logo NutriVision" id="logo">
                <button id="mobile-menu" class="mobile-menu-icon">&#9776;</button>
            </div>
            <ul class="navbar-list" id="navbar-menu">
                <li class="navbar-item"><a href="../index.html#inicio">Início</a></li>
                <li class="navbar-item"><a href="../index.html#sobre">Sobre nós</a></li>
                <li class="navbar-item"><a href="../index.html#produtos">Produtos</a></li>
                <li class="navbar-item"><a href="../index.html#planos">Plano</a></li>
                <li class="navbar-item"><a href="../index.html#contato">Contato</a></li>
            </ul>
        </div>
    </nav>

    <div class="assinatura">
        <div class="subscription-steps-container">
            <h4>Conclua sua assinatura</h4>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <div class="steps-wrapper">

                <!-- Step 1 -->
                <div class="step active" data-step="1">
                    <h3>Seus Dados</h3>
                    <p>Preencha suas informações pessoais.</p>
                    <form action="" class="form-information">
                        <div class="information-group">
                            <input type="text" id="nomeCompleto" placeholder="Nome Completo" required>
                            <span class="mensagem"></span>
                            <input type="email" id="email" placeholder="Email" required>
                            <span class="mensagem"></span>
                            <input type="tel" id="telefone" placeholder="Telefone" required>
                            <span class="mensagem"></span>
                            <input type="text" id="cpf" placeholder="CPF" name="cpf" maxlength="14" placeholder="000.000.000-00" required> 
                            <span class="mensagem"></span>
                        </div>
                        <div class="information-group">
                            <input type="text" id="cep" placeholder="CEP" required>
                            <span class="mensagem"></span>
                            <input type="text" id="endereco" placeholder="Endereço" disabled required>
                            <input type="text" id="cidade" placeholder="Cidade" disabled required>
                            <input type="text" id="estado" placeholder="Estado" disabled required>
                            <input type="number" id="numero" placeholder="Número">
                        </div>
                    </form>
                    <button type="button" class="next" onclick="nextStep()">Próximo</button>
                </div>

                <!-- Step 2 -->
                <div class="step" data-step="2">
                    <h3>Sobre seu plano</h3> <br>
                    <h2>Plano Elite</h2>
                    <ul>
                        <li>Teleconsulta com psicólogo 1 vez por semana.</li>
                        <li>Teleconsulta com nutricionista 1 vez por mês.</li>
                        <li>Teleconsulta com personal trainer 3 vezes na semana.</li>
                        <li>Dicas nutricionais personalizadas.</li>
                    </ul>
                    <button type="button" class="prev" onclick="prevStep()">Anterior</button>
                    <button type="button" class="next" onclick="nextStep()">Próximo</button>
                </div>

                <!-- Step 3 -->
                <div class="step" data-step="3">
                    <h3>Pagamento</h3>
                    <p>Informe seus dados de pagamento.</p>
                    <form class="form-information">
                        <div class="information-group">
                            <div class="select-wrapper">
                                <select name="tipoPagamento" id="tipoPagamento" onchange="atualizarTipoPagamento()">
                                    <option value="" disabled selected>Selecione a forma de pagamento</option>
                                    <option value="credito">Cartão de Crédito</option>
                                    <option value="debito">Cartão de Débito</option>
                                    <option value="pix">PIX (3% de desconto)</option>
                                    <option value="boleto">Boleto Bancário</option>
                                </select>
                            </div>

                            <div id="dados-cartao">
                                <input type="text" id="numeroCartao" placeholder="Número do Cartão" maxlength="19" />
                                <small class="mensagem erro-numeroCartao"></small>

                                <input type="text" id="nomeCartao" placeholder="Nome no Cartão" />
                                <small class="mensagem erro-nomeCartao"></small>

                                <input type="text" id="dataValidade" placeholder="Validade (MM/AA)" maxlength="5" />
                                <small class="mensagem erro-dataValidade"></small>

                                <input type="text" id="cvv" placeholder="CVV" maxlength="4" />
                                <small class="mensagem erro-cvv"></small>

                            </div>

                            <div id="parcelas-container" style="display:none;">
                                <div class="select-wrapper">
                                    <select id="parcelas">
                                        <option value="" disabled selected>Parcelas</option>
                                        <option value="1">1x R$499,99</option>
                                        <option value="2">2x R$249,99</option>
                                        <option value="3">3x R$166,66</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </form>
                    <button type="button" class="prev" onclick="prevStep()">Anterior</button>
                    <button type="button" class="next" onclick="nextStep()">Próximo</button>
                </div>

                <!-- Step 4 - CONFIRMAÇÃO -->
                <div class="step" data-step="4">
                    <h3>Confirmação</h3>
                    <p>Revise suas informações antes de concluir.</p>

                    <!-- Dados Pessoais -->
                    <div class="confirm-section">
                        <h4>Dados Pessoais</h4>
                        <p>Nome: <span id="confirm-name"></span></p>
                        <p>Email: <span id="confirm-email"></span></p>
                        <p>Telefone: <span id="confirm-phone"></span></p>
                        <p>CPF: <span id="confirm-cpf"></span></p>
                        <p>Endereço: <span id="confirm-address"></span></p>
                        <button type="button" onclick="goToStep(1)">Editar Dados</button>
                    </div>

                    <!-- Plano -->
                    <div class="confirm-section">
                        <h4>Plano Escolhido</h4>
                        <p>Plano: <span id="confirm-plan">Plano Elite</span></p>
                    </div>

                    <!-- Pagamento -->
                    <div class="confirm-section">
                        <h4>Pagamento</h4>
                        <p>Forma de pagamento: <span id="confirm-payment-type"></span></p>
                        <p>Cartão: <span id="confirm-card"></span></p>
                        <p>Parcelas / Valor: <span id="confirm-installments"></span></p>

                        <!-- QR Code para PIX -->
                        <div id="pix-area" style="display:none; margin-top: 10px;">
                            <p>Escaneie o QR Code abaixo para pagar:</p>
                            <img src="../assets/img/qrcode_pix_ficticio.png" alt="QR Code PIX" style="width:150px;">
                        </div>

                        <!-- Boleto bancário -->
                        <div id="boleto-area" style="display:none; margin-top: 10px;">
                            <p>Boleto gerado:</p>
                            <p>Linha digitável: <strong>34191.79001 01043.510047 91020.150008 5 12345678900000</strong>
                            </p>
                            <button onclick="window.print()">Imprimir Boleto</button>
                        </div>

                        <button type="button" onclick="goToStep(3)">Editar Pagamento</button>
                    </div>

                    <button type="button" class="prev" onclick="prevStep()">Anterior</button>
                    <button type="button" class="next" id="complete-subscription"
                        onclick="completeSubscription()">Concluir</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal de Sucesso -->
    <div id="modal-sucesso" class="modal">
        <div class="modal-content">
            <h2>Assinatura concluída com sucesso!</h2>
            <p>Obrigado por assinar o plano NutriVision.</p>
            <p>Você será redirecionado em instantes...</p>
        </div>
    </div>

    <script src="../assets/js/script.js" defer></script>
    <script src="../assets/js/assinatura.js" defer></script>
</body>
</html>